/* Copyright (C) 2009 - 2018 SEBLOD. All Rights Reserved. */
if("undefined"===typeof JCck)var JCck={};
!function($){function myCheck(e,t){return 0<=$.inArray(e,t)?1:0}function myModal(e){var s={modal:null,defaults:{backclose:!0,backdrop:!0,body:!0,callbacks:{},class:"",close:!0,group:"ajax",header:!0,html:{close:'<button type="button" class="close" data-dismiss="modal"><span>Ã—</span></button>',loading:'<div class="loading"></div>',navigation:'<a class="prev" href="javascript:void(0);"><span><</span></a><a class="next" href="javascript:void(0);"><span>></span></a>'},keyboard:!0,loading:!0,loop:!1,message:{selector:""},mode:"ajax",navigation:!1,title:!0,url:{tmpl:""}}};return s.settings=$.extend(s.defaults,e||{}),s.groups={ajax:[]},s.currentIndex=0,s.referrer=null,s.build=function(){return s.remove(),$("body").append('<div id="modal-cck" class="modal fade modal-'+s.settings.mode+(""!=s.settings.class?" "+s.settings.class:"")+'">'+(s.settings.navigation?'<div class="modal-navigation">'+s.settings.html.navigation+"</div>":"")+(s.settings.header?'<div class="modal-header">'+(s.settings.title?"<h3>"+(!0!==s.settings.title?s.settings.title:"")+"</h3>":"")+"</div>":"")+'<div class="modal-content">'+(""!=s.settings.message.selector?'<div class="modal-message"></div>':"")+(s.settings.body?'<div class="modal-body"></div>':"")+"</div></div></div>"),""!=s.settings.message.selector&&$("body "+s.settings.message.selector).length&&$("body "+s.settings.message.selector).appendTo(".modal-message"),s.modal=$("#modal-cck"),s.container=s.modal.find(s.settings.body?".modal-body":".modal-content"),s.settings.close&&$(s.settings.html.close).prependTo(s.settings.header?s.modal.find(".modal-header"):s.modal),s.modal.modal({show:!1,backdrop:0!=s.settings.backdrop&&(0!=s.settings.backclose||"static"),keyboard:s.settings.keyboard}),s.modal.on("show",function(e){e.stopPropagation(),$("html").removeClass("modal-off").addClass("modal-on"),s.callbacks.show(e)}),s.modal.on("shown",function(e){e.stopPropagation(),s.callbacks.shown(e)}),s.modal.on("hide",function(e){e.stopPropagation(),s.callbacks.hide(e)}),s.modal.on("hidden",function(e){e.stopPropagation(),$("html").removeClass("modal-on").addClass("modal-off"),s.callbacks.hidden(e)}),s},s.callbacks={show:function(e){void 0!==s.settings.callbacks.show&&s.settings.callbacks.show(e)},load:function(){s.container.empty(),s.settings.loading&&s.container.append(s.settings.html.loading),s.settings.navigation&&s.modal.find(".modal-navigation > a").addClass("hidden"),void 0!==s.settings.callbacks.load&&s.settings.callbacks.load()},loaded:function(){var e;s.settings.loading&&s.container.find(".loading").remove(),!s.settings.title||(e=s.modal.find("[data-cck-modal-title]")).length&&s.modal.find(".modal-header h3").html(e.html());var t=s.modal.find("[data-cck-modal-hash]");t.length&&(window.location.hash=t.html()),s.settings.navigation&&1<s.groups[s.settings.group].length&&(s.settings.loop?s.modal.find(".modal-navigation > a").removeClass("hidden"):(0!=s.currentIndex&&s.modal.find(".modal-navigation > a.prev").removeClass("hidden"),s.currentIndex!=s.groups[s.settings.group].length-1&&s.modal.find(".modal-navigation > a.next.hidden").removeClass("hidden"))),void 0!==s.settings.callbacks.loaded&&s.settings.callbacks.loaded()},shown:function(e){var t=$(window).scrollTop();$(window).on("scroll",function(){$(document).scrollTop(t)}),s.settings.navigation&&(s.modal.find(".modal-navigation > a.prev").on("click",function(e){e.preventDefault(),s.loadPrev()}),s.modal.find(".modal-navigation > a.next").on("click",function(e){e.preventDefault(),s.loadNext()})),s.settings.keyboard&&$(document.documentElement).on("keyup",s.keyboardHandler),void 0!==s.settings.callbacks.shown&&s.settings.callbacks.shown(e)},hide:function(e){void 0!==s.settings.callbacks.hide&&s.settings.callbacks.hide(e)},hidden:function(e){$(window).off("scroll"),history.replaceState("",document.title,window.location.pathname+window.location.search),s.remove(),void 0!==s.settings.callbacks.hidden&&s.settings.callbacks.hidden(e)},destroy:function(){void 0!==s.settings.callbacks.destroy&&s.settings.callbacks.destroy(),s.remove(),void 0!==(s={}).settings.callbacks.destroyed&&s.settings.callbacks.destroyed()},destroyed:function(){void 0!==s.settings.callbacks.destroyed&&s.settings.callbacks.destroyed()}},s.destroy=function(){return s.callbacks.destroy(),this},s.hide=function(){return s.modal.modal("hide"),this},s.init=function(){return $.each(s.groups,function(i,e){$.each(e,function(n){$(this).off("click"),$(this).on("click",function(e){e.preventDefault();var t=$(this),a=t.attr("href");s.referrer=this,s.settings=$.extend(s.settings,t.data("cck-modal")||{}),s.settings.group=i,s.currentIndex=n,s.loadUrl(a)})})}),this},s.keyboardHandler=function(e){switch(e.preventDefault(),e.keyCode){case 27:s.hide()}if(s.settings.navigation)switch(e.keyCode){case 37:s.loadPrev();break;case 39:s.loadNext()}},s.load=function(e,a){switch(s.callbacks.load(),s.settings.mode){case"iframe":var t='<iframe src="'+e+'" width="100%" height="100%" frameborder="0"></iframe>';s.container.html(t),s.callbacks.loaded(),a&&s.show();break;case"image":var n='<img src="'+e+'" />';s.container.html(n),s.callbacks.loaded(),a&&s.show();break;default:$.ajax({url:e,cache:!1}).done(function(e){s.container.html(e),s.callbacks.loaded(),a&&s.show()}).fail(function(e,t){window.location.hash&&history.replaceState("",document.title,window.location.pathname+window.location.search),s.container.html('<span data-cck-modal-title style="display:none;">'+e.status+" "+e.statusText+"</span>The requested page can't be found or you are not authorised to view this resource."),s.callbacks.loaded(),a&&s.show()})}return this},s.loadPrev=function(){if(0==s.currentIndex){if(!s.settings.loop)return this;s.currentIndex=s.groups[s.settings.group].length-1}else s.currentIndex--;return s.load($(s.groups[s.settings.group][s.currentIndex]).attr("href"),!1),this},s.loadNext=function(){if(s.currentIndex==s.groups[s.settings.group].length-1){if(!s.settings.loop)return this;s.currentIndex=0}else s.currentIndex++;return s.load($(s.groups[s.settings.group][s.currentIndex]).attr("href"),!1),this},s.loadHtml=function(e){s.build(),s.callbacks.load(),s.container.html(e),s.callbacks.loaded(),s.show()},s.loadUrl=function(a){$.each(s.groups.ajax,function(e,t){if(JCck.Core.sourceURI+t.attr("href")==a)return s.settings.group="ajax",s.currentIndex=e,!1}),s.settings.url.tmpl&&(-1<a.indexOf("?")?a+="&":a+="?",a+="tmpl="+s.settings.url.tmpl),s.build().load(a,!0)},s.remove=function(){return $("body").find("#modal-cck").remove(),s.settings.keyboard&&$(document.documentElement).off("keyup",s.keyboardHandler),this},s.show=function(){return s.modal.modal("show"),this},s}function myOpposite(e){return 1==e?0:1}void 0===JCck.Core&&(JCck.Core={}),JCck.Core.doTask=function(e,t,a){void 0===a&&(a=document.getElementById("adminForm"));var n=a[e],i=t.split(".");if(n){for(var s=0;;s++){var o=a["cb"+s];if(!o)break;o.checked=!1}n.checked=!0,a.boxchecked.value=1,"update"==i[0]&&""!=i[1]&&(t=i[0],jQuery("#seblod_form").append('<input type="hidden" id="task2" name="task2" value="'+i[1]+'">')),Joomla.submitbutton(t)}return!1},JCck.Core.executeFunctionByName=function(e,t){for(var a=[].slice.call(arguments).splice(2),n=e.split("."),i=n.pop(),s=0;s<n.length;s++)t=t[n[s]];return t[i].apply(this,a)},JCck.Core.getModal=function(e){return myModal(e)},JCck.Core.submitForm=function(e,t){void 0===t&&(t=document.getElementById("adminForm")),void 0!==e&&""!==e&&(t.task.value=e),"function"==typeof t.onsubmit&&t.onsubmit(),"function"==typeof t.fireEvent&&t.fireEvent("onsubmit"),"function"!=typeof jQuery||"form.cancel"==e||"cancel"==e?t.submit():("search"==e&&jQuery("[data-cck-remove-before-search]","#"+t.id).removeAttr("name"),jQuery(t).submit())},JCck.Core.submitTask=function(e,t,a,n){jQuery("#"+n+' input:checkbox[name="cid[]"]:checked').prop("checked",!1),jQuery("#"+n+" #"+a).prop("checked",!0),jQuery("#"+n+" #boxchecked").myVal(1),jQuery("#"+n).append('<input type="hidden" name="tid" value="'+t+'">'),JCck.Core.submitForm(e,document.getElementById(n)),jQuery("#"+n+" #"+a).prop("checked",!1)},JCck.Core.trigger=function(e,t){$(e).trigger(t)},JCck.Modals=[],$.fn.clearForm=function(){return this.each(function(){$(":input",this).each(function(){var e=this.type,t=this.tagName.toLowerCase();if("text"==e||"password"==e||"textarea"==t)this.value="";else if("hidden"==e)$(this)[0].hasAttribute("data-cck-keep-for-search")||(this.value="");else if("checkbox"==e||"radio"==e)this.checked=!1;else if("select-multi"==e||"select-multiple"==e)this.selectedIndex=-1;else if("select"==t){for(var a=0,n=0;n<this.options.length;n++)if(""==this.options[n].value){a=1;break}a?this.value="":this.selectedIndex=0}})})},$.fn.conditionalState=function(o){var l,d,t,c,n,r=$(this),e=o.rule||"";1<o.conditions.length?(l="or"==e?1:o.conditions.length,d={},jQuery.each(o.conditions,function(e,n){var a,i,s=$("#"+n.trigger);n.trigger&&null!=s&&(i="isChanged"==(i=n.type)?"change":"isPressed"==i?"click":"isSubmitted"==i?"keypress":(d[s.attr("id")]=parseInt(s.myConditional(n.type,n)),a=0,jQuery.each(d,function(e,t){1==t&&a++}),c=l<=a?1:0,jQuery.each(o.states,function(e,t){r.myState(0,c,t.type,t)}),"change"),s.on(i,function(e){var t,a;"keypress"==i&&13!=e.which||(t=parseInt(s.myConditional(n.type,n)),"click"==i||"keypress"==i?a=t:(a=0,d[s.attr("id")]=t),jQuery.each(d,function(e,t){1==t&&a++}),c=l<=a?1:0,jQuery.each(o.states,function(e,t){r.myState(1,c,t.type,t)}))}))})):(t=$("#"+o.conditions[0].trigger),o.conditions[0].trigger&&null!=t&&(n="isChanged"==(n=o.conditions[0].type)?"change":"isPressed"==n?"click":"isSubmitted"==n?"keypress":(c=t.myConditional(o.conditions[0].type,o.conditions[0]),jQuery.each(o.states,function(e,t){r.myState(0,c,t.type,t)}),"change"),t.on(n,function(e){var a;"keypress"==n&&13!=e.which||(a=t.myConditional(o.conditions[0].type,o.conditions[0]),jQuery.each(o.states,function(e,t){r.myState(1,a,t.type,t)}))})))},$.fn.conditionalStateLegacy=function(e){var a,t=$("#"+e.conditions._0isEqual.trigger),n=$(this);e.conditions._0isEqual.trigger&&null!=t&&(a=t.myConditional("isEqual",e.conditions._0isEqual),jQuery.each(e.states,function(e,t){n.myState(0,a,e.substr(2),t)}),t.on("change",function(){var a=t.myConditional("isEqual",e.conditions._0isEqual);jQuery.each(e.states,function(e,t){n.myState(1,a,e.substr(2),t)})}))},$.fn.conditionalStates=function(e){var t=$(this),a=e.length;if(void 0===a)e.rule?t.conditionalState(e):t.conditionalStateLegacy(e);else for(var n=0;n<a;n++)e[n].rule?t.conditionalState(e[n]):t.conditionalStateLegacy(e[n])},$.fn.deepestHeight=function(){var e=0;$(this).each(function(){e=Math.max(e,$(this).height())}).height(e)},$.fn.isStillReady=function(){return!$(this).hasClass("busy")&&($(this).addClass("busy"),!0)},$.fn.myAttr=function(e){var t=$(this);return t.is("select")?$.trim(t.find("option:selected").attr(e)):t.is("fieldset")?$.trim(t.find("input:checked").attr(e)):$.trim(t.attr(e))},$.fn.myProp=function(e,t){var a=$(this);return a.is("fieldset")?a.find("input").prop(e,t):$("#"+el).prop(e,t),t},$.fn.myConditional=function(e,t){var a=this.attr("id"),n=0;if(!$(this).length)return 0;switch(e){case"callFunction":var i=t.value;window[i]&&(n=window[i]());break;case"isChanged":case"isPressed":return 1;case"isFilled":case"isEmpty":void 0!==$(this).myVal()&&null!==$(this).myVal()&&""!=$(this).myVal()&&(n=1),"isEmpty"==e&&(n=myOpposite(n));break;case"isEqual":case"isDifferent":default:var s,o=t.value.split(",");"FIELDSET"==this[0].tagName?(s="",1<$("#"+a+" input:checked").length?$("#"+a+" input:checked").each(function(){s=parseInt(myCheck($(this).val(),o)),n+=s}):(1==$("#"+a+" input:checked").length&&(s=$("#"+a+" input:checked").val()),n=myCheck(s,o))):n=myCheck(this.val(),o),n=0<n?1:0,"isDifferent"==e&&(n=myOpposite(n))}return n},$.fn.myState=function(e,t,a,n){var i=0,s=this.attr("id")+n.selector,o=n.value,l="0"==n.revert?0:1;switch(a){case"hasClass":case"hasNotClass":"hasNotClass"==a&&(l?t=myOpposite(t):1==t&&(t=myOpposite(t),l=1)),1==t?$("#"+s).addClass(o):l&&$("#"+s).removeClass(o);break;case"isEnabled":case"isDisabled":"isDisabled"==a&&(l?t=myOpposite(t):1==t&&(t=myOpposite(t),l=1)),1==t?$("#"+s).myProp("disabled",!1):l&&$("#"+s).myProp("disabled",!0);break;case"isFilled":case"isFilledBy":case"isEmpty":"isEmpty"==a&&(l?(t=myOpposite(t),i=1):1==t&&(t=myOpposite(t),l=1));var d,c=$("#"+s).attr("id"),r="";1==t?("isFilledBy"==a&&(o=(d=o.split("@"))[1]?$("#"+d[0]).myAttr(d[1]):$("#"+o).myVal()),r=$("#"+s).is(":input")||$("#"+s).is("fieldset")?"myVal":"text",i&&""==o||($("#"+s)[r](o),$("#_"+c).length&&(r=$("#_"+c).is(":input")?"myVal":"text",$("#_"+c)[r](o)))):l&&(r=$("#"+s).is(":input")||$("#"+s).is("fieldset")?"myClear":"text",$("#"+s)[r](),$("#_"+c).length&&(r=$("#_"+c).is(":input")?"val":"text",$("#_"+c)[r]("")));break;case"isComputed":break;case"triggers":c=$("#"+s).attr("id");$("#"+c).trigger(o);break;case"isVisible":case"isHidden":default:"isHidden"==a&&(l?t=myOpposite(t):1==t&&(t=myOpposite(t),l=1)),0==e&&(o=""),1==t?"fade"==o?$("#"+s).fadeIn():"slide"==o?$("#"+s).slideDown():$("#"+s).show():l&&("fade"==o?$("#"+s).fadeOut():"slide"==o?$("#"+s).slideUp():$("#"+s).hide())}},$.fn.myClear=function(e){if(this[0]){var t=this[0];if("FIELDSET"==t.tagName)1==arguments.length?$("#"+this.attr("id")+" input:checked").each(function(){e==$(this).val()&&$("#"+$(this).attr("id")).prop("checked",!1)}):$("#"+this.attr("id")+" input").prop("checked",!1);else if("SELECT"==t.tagName&&this.prop("multiple"))this.find('option[value="'+e+'"]').prop("selected",!1);else if("SELECT"!=t.tagName||this.prop("multiple"))this.val("");else{for(var a=0,n=0;n<t.options.length;n++)if(""==t.options[n].value){a=1;break}a?this.val(""):t.selectedIndex=0}}},$.fn.myVal=function(e){var t;if(1==arguments.length?t=1:(t=0,e=""),!this[0])return"";var a=this[0];if("FIELDSET"!=a.tagName&&"DIV"!=a.tagName){if("SELECT"==a.tagName&&this.prop("multiple")){if(t)return e?this.val(e.split(",")):this.val(e);var n=this.val();return null===n?[]:n}return t?this.val(e):this.val()}var i="#"+this.attr("id"),s="";if(!e)return 1<$(i+" input:checked").length?($(i+" input:checked").each(function(){s+=","+$(this).val()}),s.substr(1)):1==$(i+" input:checked").length?$(i+" input:checked").val():s;$(i+" input").val(e.split(","))},$.fn.CckModal=function(){var modals={},parents=[];$(this).each(function(i,e){var element=$(e),parent=!1,parent;void 0!==element.data("cck-modal").parent&&(parent=element.data("cck-modal").parent);var group=void 0!==element.data("cck-modal").mode?element.data("cck-modal").mode:"ajax",parent;void 0!==element.data("cck-modal").group&&(group=element.data("cck-modal").group),void 0!==element.data("cck-modal").parent?(parent=element.data("cck-modal").parent,-1<parents.indexOf(parent)||parents.push(parent),void 0===eval(parent).groups[group]&&(eval(parent).groups[group]=[]),eval(parent).groups[group].push(element)):(void 0===modals[group]&&(modals[group]=[]),modals[group].push(element))}),$.each(parents,function(i,e){eval(e).init()}),$.each(modals,function(e,t){var a=myModal();a.groups[e]=t,a.init()})},$(document).ready(function(){$("a[data-cck-modal]").CckModal();var e=document.createElement("style");e.type="text/css",e.innerText=".modal-on{overflow:hidden;height:auto;}.modal-on.scroll-bar{overflow:unset;position:static;top:0;bottom:0;left:0;right:0}.modal-off{overflow:auto;}",document.getElementsByTagName("head")[0].appendChild(e),!!navigator.platform&&/Mac|iPad|iPhone|iPod/.test(navigator.platform)||$("html").addClass("scroll-bar")})}(jQuery);