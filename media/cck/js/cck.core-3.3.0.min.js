/* Copyright (C) 2013 SEBLOD. All Rights Reserved. */
if("undefined"===typeof JCck)var JCck={};(function(e){function t(t,n){if(e.inArray(t,n)>=0){return 1}else{return 0}}function n(e){return e==1?0:1}if("undefined"===typeof JCck.Core){JCck.Core={}}JCck.Core.doTask=function(e,t,n){if(typeof n==="undefined"){n=document.getElementById("adminForm")}var r=n[e];var i=t.split(".");if(r){for(var s=0;true;s++){var o=n["cb"+s];if(!o)break;o.checked=false}r.checked=true;n.boxchecked.value=1;if(i[0]=="update"&&i[1]!=""){t=i[0];jQuery("#seblod_form").append('<input type="hidden" id="task2" name="task2" value="'+i[1]+'">')}Joomla.submitbutton(t)}return false};e.fn.isStillReady=function(){if(e(this).hasClass("busy")){return false}else{e(this).addClass("busy");return true}};e.fn.deepestHeight=function(){var t=0;e(this).each(function(){t=Math.max(t,e(this).height())}).height(t)};e.fn.clearForm=function(){return this.each(function(){e(":input",this).each(function(){var e=this.type,t=this.tagName.toLowerCase();if(e=="text"||e=="password"||t=="textarea")this.value="";else if(e=="checkbox"||e=="radio")this.checked=false;else if(t=="select")this.value=""})})};e.fn.conditionalState=function(t){var n=e(this);var r=t.rule||"";if(t.conditions.length>1){var i=r=="or"?1:t.conditions.length;var s={};jQuery.each(t.conditions,function(r,o){var u=e("#"+o.trigger);if(o.trigger&&u!=null){var f=o.type;if(f=="isChanged"){f="change"}else if(f=="isPressed"){f="click"}else{s[u.attr("id")]=parseInt(u.myConditional(o.type,o));var l=0;jQuery.each(s,function(e,t){if(t==1){l++}});if(l>=i){a=1}else{a=0}jQuery.each(t.states,function(e,t){n.myState(0,a,t.type,t)});f="change"}u.live(f,function(){s[u.attr("id")]=parseInt(u.myConditional(o.type,o));var e=0;jQuery.each(s,function(t,n){if(n==1){e++}});if(e>=i){a=1}else{a=0}jQuery.each(t.states,function(e,t){n.myState(1,a,t.type,t)})})}})}else{var o=e("#"+t.conditions[0].trigger);if(t.conditions[0].trigger&&o!=null){var u=t.conditions[0].type;if(u=="isChanged"){u="change"}else if(u=="isPressed"){u="click"}else{var a=o.myConditional(t.conditions[0].type,t.conditions[0]);jQuery.each(t.states,function(e,t){n.myState(0,a,t.type,t)});u="change"}o.live(u,function(){var e=o.myConditional(t.conditions[0].type,t.conditions[0]);jQuery.each(t.states,function(t,r){n.myState(1,e,r.type,r)})})}}};e.fn.conditionalStateLegacy=function(t){var n=e("#"+t.conditions._0isEqual.trigger);var r=e(this);if(t.conditions._0isEqual.trigger&&n!=null){var i=n.myConditional("isEqual",t.conditions._0isEqual);jQuery.each(t.states,function(e,t){r.myState(0,i,e.substr(2),t)});n.live("change",function(){var e=n.myConditional("isEqual",t.conditions._0isEqual);jQuery.each(t.states,function(t,n){r.myState(1,e,t.substr(2),n)})})}};e.fn.conditionalStates=function(t){var n=e(this);var r=t.length;if(r===undefined){if(t.rule){n.conditionalState(t)}else{n.conditionalStateLegacy(t)}}else{for(var i=0;i<r;i++){if(t[i].rule){n.conditionalState(t[i])}else{n.conditionalStateLegacy(t[i])}}}};e.fn.myAttr=function(t){var n=e(this);if(n.is("select")){var r=e.trim(n.find("option:selected").attr(t))}else if(n.is("fieldset")){var r=e.trim(n.find("input:checked").attr(t))}else{var r=e.trim(n.attr(t))}return r};e.fn.myConditional=function(r,i){var s=this.attr("id");var o=0;if(!e(this).length){return 0}switch(r){case"callFunction":var u=i.value;if(window[u]){o=window[u]()}break;case"isChanged":case"isPressed":return 1;break;case"isFilled":case"isEmpty":if(e(this).myVal()!==undefined&&e(this).myVal()!==null&&e(this).myVal()!=""){o=1}if(r=="isEmpty"){o=n(o)}break;case"isEqual":case"isDifferent":default:var a=i.value.split(",");if(this[0].tagName=="FIELDSET"){var f="";if(e("#"+s+" input:checked").length>1){e("#"+s+" input:checked").each(function(){f=parseInt(t(e(this).val(),a));o=o+f})}else{if(e("#"+s+" input:checked").length==1){f=e("#"+s+" input:checked").val()}o=t(f,a)}}else{o=t(this.val(),a)}if(o>0){o=1}else{o=0}if(r=="isDifferent"){o=n(o)}break}return o};e.fn.myState=function(t,r,i,s){var o=this.attr("id")+s.selector;var u=s.value;var a=s.revert=="0"?0:1;switch(i){case"hasClass":case"hasNotClass":if(i=="hasNotClass"){r=n(r);a=1}if(r==1){e("#"+o).addClass(u)}else if(a){e("#"+o).removeClass(u)}break;case"isEnabled":case"isDisabled":if(i=="isDisabled"){r=n(r);a=1}if(r==1){e("#"+o).prop("disabled",false)}else if(a){e("#"+o).prop("disabled",true)}break;case"isFilled":case"isFilledBy":case"isEmpty":if(i=="isEmpty"){r=n(r);a=1}var f=e("#"+o).attr("id");var l="";if(r==1){if(i=="isFilledBy"){var c=u.split("@");if(c[1]){u=e("#"+c[0]).myAttr(c[1])}else{u=e("#"+u).myVal()}}l=e("#"+o).is(":input")||e("#"+o).is("fieldset")?"myVal":"text";e("#"+o)[l](u);if(e("#_"+f).length){l=e("#_"+f).is(":input")?"myVal":"text";e("#_"+f)[l](u)}}else if(a){l=e("#"+o).is(":input")||e("#"+o).is("fieldset")?"val":"text";e("#"+o)[l]("");if(e("#_"+f).length){l=e("#_"+f).is(":input")?"val":"text";e("#_"+f)[l]("")}}break;case"isComputed":break;case"triggers":var f=e("#"+o).attr("id");e("#"+f).trigger(u);break;case"isVisible":case"isHidden":default:if(i=="isHidden"){r=n(r);a=1}if(t==0){u=""}if(r==1){if(u=="fade"){e("#"+o).fadeIn()}else if(u=="slide"){e("#"+o).slideDown()}else{e("#"+o).show()}}else if(a){if(u=="fade"){e("#"+o).fadeOut()}else if(u=="slide"){e("#"+o).slideUp()}else{e("#"+o).hide()}}break}};e.fn.myVal=function(t){if(arguments.length==1){var n=1}else{var n=0;var t=""}if(!this[0]){return""}var r=this[0];if(r.tagName=="FIELDSET"||r.tagName=="DIV"){var i="#"+this.attr("id");var s="";if(t){e(i+" input").val(t.split(","))}else{if(e(i+" input:checked").length>1){e(i+" input:checked").each(function(){s+=","+e(this).val()});return s.substr(1)}else{if(e(i+" input:checked").length==1){return e(i+" input:checked").val()}}}}else if(r.tagName=="SELECT"&&this.prop("multiple")){return n?t?this.val(t.split(",")):this.val(t):this.val()}else{return n?this.val(t):this.val()}}})(jQuery)